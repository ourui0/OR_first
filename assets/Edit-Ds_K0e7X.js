import{p as T,r as U,j as g,c as w,f as l,g as a,h as u,u as D,o as M,e as d,t as x,l as C}from"./index-DrpxvrEV.js";import{c as H,u as q,k as A}from"./activity-DGlHpSGR.js";import"./api-BAtoe7S3.js";const j={class:"p-4"},$={__name:"Edit",setup(B){const f=T(),v=D(),m=f.params.id,t=U({title:"",startTime:"",endTime:"",location:"",quota:10,desc:"",status:"draft"}),V=async()=>{if(!m)return;const{data:s}=await H(m);Object.assign(t.value,s)},b=async()=>{m?await q(m,t.value):await A(t.value),await v.replace("/activities")};return g(V),(s,e)=>{const i=u("el-input"),n=u("el-form-item"),p=u("el-date-picker"),y=u("el-input-number"),r=u("el-radio"),c=u("el-radio-group"),_=u("el-button"),k=u("el-form"),Y=u("el-card");return M(),w("div",j,[l(Y,null,{header:a(()=>[d(x(C(m)?"编辑活动":"新建活动"),1)]),default:a(()=>[l(k,{model:t.value,"label-width":"80"},{default:a(()=>[l(n,{label:"名称"},{default:a(()=>[l(i,{modelValue:t.value.title,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.title=o)},null,8,["modelValue"])]),_:1}),l(n,{label:"开始"},{default:a(()=>[l(p,{modelValue:t.value.startTime,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.startTime=o),type:"datetime","value-format":"YYYY-MM-DD HH:mm"},null,8,["modelValue"])]),_:1}),l(n,{label:"结束"},{default:a(()=>[l(p,{modelValue:t.value.endTime,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.endTime=o),type:"datetime","value-format":"YYYY-MM-DD HH:mm"},null,8,["modelValue"])]),_:1}),l(n,{label:"地点"},{default:a(()=>[l(i,{modelValue:t.value.location,"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.location=o)},null,8,["modelValue"])]),_:1}),l(n,{label:"名额"},{default:a(()=>[l(y,{modelValue:t.value.quota,"onUpdate:modelValue":e[4]||(e[4]=o=>t.value.quota=o),min:1},null,8,["modelValue"])]),_:1}),l(n,{label:"描述"},{default:a(()=>[l(i,{modelValue:t.value.desc,"onUpdate:modelValue":e[5]||(e[5]=o=>t.value.desc=o),type:"textarea"},null,8,["modelValue"])]),_:1}),l(n,{label:"状态"},{default:a(()=>[l(c,{modelValue:t.value.status,"onUpdate:modelValue":e[6]||(e[6]=o=>t.value.status=o)},{default:a(()=>[l(r,{value:"online"},{default:a(()=>e[8]||(e[8]=[d("上线",-1)])),_:1,__:[8]}),l(r,{value:"offline"},{default:a(()=>e[9]||(e[9]=[d("下线",-1)])),_:1,__:[9]}),l(r,{value:"draft"},{default:a(()=>e[10]||(e[10]=[d("草稿",-1)])),_:1,__:[10]})]),_:1},8,["modelValue"])]),_:1}),l(n,null,{default:a(()=>[l(_,{type:"primary",onClick:b},{default:a(()=>e[11]||(e[11]=[d("保存",-1)])),_:1,__:[11]}),l(_,{onClick:e[7]||(e[7]=o=>s.$router.back())},{default:a(()=>e[12]||(e[12]=[d("返回",-1)])),_:1,__:[12]})]),_:1})]),_:1},8,["model"])]),_:1})])}}};export{$ as default};
