import{a as s}from"./api-BAtoe7S3.js";class c{async login({username:r,password:e}){const o=await s.post("/auth/login",{username:r,password:e}),t=o.data?.token;if(!t)throw new Error("未返回 token");return localStorage.setItem("token",t),{...o,token:t}}async register({username:r,email:e,password:o}){const t=await s.post("/auth/register",{username:r,email:e,password:o}),a=t.data?.token;if(!a)throw new Error("未返回 token");return localStorage.setItem("token",a),{...t,token:a}}logout(){localStorage.removeItem("token")}getToken(){return localStorage.getItem("token")}isLoggedIn(){return!!this.getToken()}}const i=new c,k=(n,r)=>{const e=n.__vccOpts||n;for(const[o,t]of r)e[o]=t;return e};export{k as _,i as a};
