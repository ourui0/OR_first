import{r as n,c as l,a as s,w as g,b as w,d as u,v as d,t as y,e as m,f as b,g as c,h as k,u as x,o as i}from"./index-DrpxvrEV.js";import{_ as V,a as h}from"./_plugin-vue_export-helper-CKiEZOlW.js";import"./api-BAtoe7S3.js";const N={class:"auth-container"},R={class:"auth-form"},q={class:"form-group"},B={class:"form-group"},C={class:"form-group"},S={key:0,class:"error-message"},U=["disabled"],D={key:0},M={key:1},T={class:"switch-auth"},E={__name:"Register",setup(I){const t=n({username:"",password:""}),a=n(!1),r=n(""),v=x(),f=async()=>{a.value=!0,r.value="";try{await h.register({username:t.value.username,password:t.value.password}),await v.push("/login")}catch(p){r.value=p.response?.data?.msg||"注册失败"}finally{a.value=!1}};return(p,e)=>{const _=k("router-link");return i(),l("div",N,[e[9]||(e[9]=s("h1",{class:"page-title"},"体育活动室",-1)),s("div",R,[e[8]||(e[8]=s("h2",null,"创建您的账户",-1)),s("form",{onSubmit:g(f,["prevent"])},[s("div",q,[e[3]||(e[3]=s("label",{for:"username"},"用户名",-1)),u(s("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=o=>t.value.username=o),required:""},null,512),[[d,t.value.username]])]),s("div",B,[e[4]||(e[4]=s("label",{for:"email"},"邮箱地址",-1)),u(s("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=o=>t.value.email=o),required:""},null,512),[[d,t.value.email]])]),s("div",C,[e[5]||(e[5]=s("label",{for:"password"},"密码",-1)),u(s("input",{type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=o=>t.value.password=o),required:""},null,512),[[d,t.value.password]])]),r.value?(i(),l("div",S,y(r.value),1)):w("",!0),s("button",{type:"submit",disabled:a.value},[a.value?(i(),l("span",D,"注册中...")):(i(),l("span",M,"注册"))],8,U)],32),s("div",T,[s("p",null,[e[7]||(e[7]=m("已有账户？ ",-1)),b(_,{to:"/login"},{default:c(()=>e[6]||(e[6]=[m("立即登录",-1)])),_:1,__:[6]})])])])])}}},F=V(E,[["__scopeId","data-v-d9f57268"]]);export{F as default};
